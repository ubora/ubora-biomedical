@using Ubora.Web._Features.ProjectList
@model Ubora.Web._Features.ProjectList.SearchViewModel

@{
    ViewData["Title"] = "Search";
}

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6 mb-4">
            <form asp-controller="ProjectList" asp-action="Search" method="post">
                <div class="form-group">
                    <input class="form-control" asp-for="Title" placeholder="Search UBORA for...">
                    <span asp-validation-for="Title"></span>
                </div>
                <div class="text-center">
                    <button class="btn btn-primary" type="submit">Search</button>
                </div>
            </form>
        </div>
    </div>
    @{ Html.RenderPartial("~/_Features/ProjectList/ProjectListPartial.cshtml", Model.ProjectListViewModel); }
</div>

@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
    <script src="~/dist/infinite_scroll.bundle.js"></script>
    <script>
        UBORA.initInfiniteScroll('&page=', '@Html.Raw(Model.ProjectListViewModel.Pager.PageCount)', '@Html.Raw(Model.Title)');
    </script>
}
