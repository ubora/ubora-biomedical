@using Ubora.Web._Features.Projects.Workpackages
@using Ubora.Web._Features.Projects._Shared
@model Ubora.Web._Features.Projects.Workpackages.Steps.ReadStepViewModel

@{
    ViewData["Title"] = Model.Title;
    ViewData["MenuOption"] = ProjectMenuOption.Workpackages;
}

<section class="project-view full-width">
    @await Component.InvokeAsync(typeof(WorkpackageListOverviewViewComponent))

    <section class="medium-width step-view">
        <div class="step_header">
            <h1 class="step_title">@Model.Title</h1>
            @if (Model.EditButton.IsVisible)
            {
                <a class="step_edit" href="@Model.EditStepUrl">
                    <i class="material-icons">mode_edit</i>&nbsp;Edit
                </a>
            }
        </div>

        @* TODO(from Kaspar Kallas to Risto Kitsing) *@
        @if (Model.EditButton.IsHiddenWithMessage)
        {
            <br />
            <p><i>@Model.EditButton.HideReasonMessage</i></p>
        }

        <div class="text-markdown">@Model.Content</div>

    </section>
</section>
