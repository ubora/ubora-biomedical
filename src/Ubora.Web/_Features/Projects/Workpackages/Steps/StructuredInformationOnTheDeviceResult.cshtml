@using Ubora.Web._Features.Projects.Workpackages;

@model Ubora.Web._Features.Projects.Workpackages.Steps.StructuredInformationResultViewModel

@{
    ViewData["WorkpackageMenuOption"] = WorkpackageMenuOption.StructuredInformationOnTheDevice;
}

<div class="container-fluid my-4">
    <div class="row">
        <div class="col-lg-3">
            @await Component.InvokeAsync(typeof(WorkpackageListOverviewViewComponent))
        </div>
        <div class="col-lg-9">
            <div class="row">
                <h1 class="display-4 mb-4 col-lg-9">User and evironment</h1>
                <div class="col-lg-3">
                    <a class="btn btn-secondary-ghost align-self-start" asp-action="UserAndEnvironment" asp-controller="WorkpackageTwo">
                        <i class="material-icons">mode_edit</i>
                        <span>Edit</span>
                    </a>
                </div>
            </div>


            <div class="row">
                <div class="col-lg-10">
                    <table class="table table-bordered table-structured-information">
                        <tbody>

                            @if (!string.IsNullOrEmpty(Model.UserAndEnvironment.IntendedUser))
                            {
                                <tr>
                                    <th scope="row">Who is the intended user?</th>
                                    <td>@Model.UserAndEnvironment.IntendedUser</td>
                                </tr>
                            }
                            <tr>
                                <th scope="row">Is training required in addition to the expected skill level of the intended user?</th>
                                <td>@Model.UserAndEnvironment.IsTrainingRequiredInAdditionToExpectedSkillLevelOfIntentedUser</td>
                            </tr>
                            @if (Model.UserAndEnvironment.IsTrainingRequiredInAdditionToExpectedSkillLevelOfIntentedUser)
                            {
                                <tr>
                                    <th scope="row">If training is required, please describe who will deliver the training and the materials and time required for the training.</th>
                                    <td>@Model.UserAndEnvironment.IfTrainingIsRequiredPleaseDescribeWhoWillDeliverTrainingAndMaterialsAndTimeRequiredForTraining</td>
                                </tr>
                            }
                            <tr>
                                <th scope="row">Is any maintenance or calibration required by the user at the time of use?</th>
                                <td>@Model.UserAndEnvironment.IsAnyMaintenanceOrCalibrationRequiredByUserAtTimeOfUse</td>
                            </tr>
                            @if (Model.UserAndEnvironment.WhereWillTechnologyBeUsed.GetResult().Any())
                            {
                                <tr>
                                    <th scope="row">Where will the technology be used?</th>
                                    <td>@string.Join(", ", Model.UserAndEnvironment.WhereWillTechnologyBeUsed.GetResult())</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="row">
                <h1 class="display-4 mb-4 col-lg-9">Health technology specifications</h1>
                <div class="col-lg-3">
                    <a class="btn btn-secondary-ghost align-self-start" asp-action="HealthTechnologySpecifications" asp-controller="WorkpackageTwo">
                        <i class="material-icons">mode_edit</i>
                        <span>Edit</span>
                    </a>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-10">

                    <table class="table table-bordered table-structured-information">
                        <tbody>
                            <tr>
                                <th scope="row">Dimensions (mm3)</th>
                                <td>@Model.HealthTechnologySpecifications.DeviceMeasurementsViewModel.DimensionsLength mm x @Model.HealthTechnologySpecifications.DeviceMeasurementsViewModel.DimensionsWidth mm x @Model.HealthTechnologySpecifications.DeviceMeasurementsViewModel.DimensionsHeight mm</td>
                            </tr>
                            <tr>
                                <th scope="row">Weight (kg)</th>
                                <td>@Model.HealthTechnologySpecifications.DeviceMeasurementsViewModel.WeightInKilograms kg</td>
                            </tr>
                            <tr>
                                <th scope="row">Does it require the use of consumables? For example, disposable batteries, disposable electrodes, etc.</th>
                                <td>@Model.HealthTechnologySpecifications.DoesItRequireUseOfConsumables</td>
                            </tr>
                            @if (Model.HealthTechnologySpecifications.DoesItRequireUseOfConsumables && !string.IsNullOrEmpty(Model.HealthTechnologySpecifications.IfRequiresConsumablesListConsumables))
                            {
                                <tr>
                                    <th scope="row">If yes, please list the consumables</th>
                                    <td>@Model.HealthTechnologySpecifications.IfRequiresConsumablesListConsumables</td>
                                </tr>
                            }
                            <tr>
                                <th scope="row">Estimated life time</th>
                                <td>@Model.HealthTechnologySpecifications.EstimatedLifeTimeInDays Days @Model.HealthTechnologySpecifications.EstimatedLifeTimeInMonths Months @Model.HealthTechnologySpecifications.EstimatedLifeTimeInYears Years</td>
                            </tr>
                            <tr>
                                <th scope="row">Estimated shelf life</th>
                                <td>@Model.HealthTechnologySpecifications.EstimatedShelfLifeInDays Days @Model.HealthTechnologySpecifications.EstimatedShelfLifeInMonths Months @Model.HealthTechnologySpecifications.EstimatedShelfLifeInYears Years</td>
                            </tr>
                            <tr>
                                <th scope="row">Can it have a telemedicine or eHealth application?</th>
                                <td>@Model.HealthTechnologySpecifications.CanItHaveATelemedicineOrEHealthApplication</td>
                            </tr>
                            <tr>
                                <th scope="row">Does it use any kind of software?</th>
                                <td>@Model.HealthTechnologySpecifications.DeviceSoftwareUsageViewModel.DoesItUseAnyKindOfSoftware</td>
                            </tr>
                            @if (Model.HealthTechnologySpecifications.DeviceSoftwareUsageViewModel.DoesItUseAnyKindOfSoftware)
                            {
                                <tr>
                                    <th scope="row">If yes, please describe the software, whether it is open source or proprietary, its use and/or license fee, etc. (10-70 words).</th>
                                    <td>@Model.HealthTechnologySpecifications.DeviceSoftwareUsageViewModel.IfUsesSoftwareDescribeSoftware</td>
                                </tr>
                                <tr>
                                    <th scope="row">If yes, can the software be customized for local use? Please explain (10-70 words). Include languages available.</th>
                                    <td>@Model.HealthTechnologySpecifications.DeviceSoftwareUsageViewModel.IfUsesSoftwareCanSoftwareBeCustomizedForLocalUse</td>
                                </tr>
                            }
                            <tr>
                                <th scope="row"">Is it portable?</th>
                                <td>@Model.HealthTechnologySpecifications.Portability</td>
                            </tr>
                            <tr>
                                <th scope="row">Type of use</th>
                                <td>@Model.HealthTechnologySpecifications.TypeOfUse</td>
                            </tr>
                            <tr>
                                <th scope="row">Does the technology require maintenance?</th>
                                <td>
                                    <p>@Model.HealthTechnologySpecifications.DoesTechnologyRequireMaintenance</p>
                                    @if (Model.HealthTechnologySpecifications.DoesTechnologyRequireMaintenance)
                                    {
                                        <p>Type: @Model.HealthTechnologySpecifications.IfTechnologyRequiresMaintenanceSpecifyType</p>
                                        <p>Frequency: @Model.HealthTechnologySpecifications.IfTechnologyRequiresMaintenanceSpecifyFrequency</p>
                                        <p>Can it be done on-site / home / community?: @Model.HealthTechnologySpecifications.IfTechnologyRequiresMaintenanceCanItBeDoneOnSiteOrHomeOrCommunity</p>
                                    }
                                </td>
                            </tr>
                            @if (Model.HealthTechnologySpecifications.DoesTechnologyRequireMaintenance)
                            {
                                <tr>
                                    <th scope="row">If yes, who should provide maintenance?</th>
                                    <td>@Model.HealthTechnologySpecifications.IfTechnologyRequiresMaintenanceWhoShouldProvideMaintenance</td>
                                </tr>
                            }
                            <tr>
                                <th scope="row">Energy requirements</th>
                                <td>
                                    @if (Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.MechanicalEnergy)
                                    {
                                        <p>Mechanical energy (e.g. manually powered)</p>
                                    }
                                    @if (Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.Batteries)
                                    {
                                        <p>Batteries</p>
                                    }
                                    @if (Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.PowerSupplyForRecharging)
                                    {
                                        <p>
                                            <span class="d-block">Power supply for recharging</span>
                                            <span class="d-block pl-3">Voltage required: @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfPowerSupplyForRechargingThenRequiredVoltage V</span>
                                            <span class="d-block pl-3">Time required to recharge: @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfPowerSupplyForRechargingThenRequiredTimeToRechargeInHours hours @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfPowerSupplyForRechargingThenRequiredTimeToRechargeInMinutes minutes</span>
                                            <span class="d-block pl-3">Battery life with full charge: @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfPowerSupplyForRechargingThenRequiredBatteryLifeInHours hours @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfPowerSupplyForRechargingThenRequiredBatteryLifeInMinutes minutes</span>
                                        </p>
                                    }
                                    @if (Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.ContinuousPowerSupply)
                                    {
                                        <p>
                                            <span class="d-block">Continuous power supply</span>
                                            <span class="d-block pl-3">Voltage required: @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfContinuousPowerSupplyThenRequiredVoltage V</span>
                                        </p>
                                    }
                                    @if (Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.SolarPower)
                                    {
                                        <p>
                                            <span class="d-block">Solar power</span>
                                            <span class="d-block pl-3">Time in sunlight required to charge: @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfSolarPowerThenTimeInSunlightRequiredToChargeInHours hours @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfSolarPowerThenTimeInSunlightRequiredToChargeInMinutes minutes</span>
                                            <span class="d-block pl-3">Battery life with full charge: @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfSolarPowerThenBatteryLifeInHours hours @Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.IfSolarPowerThenBatteryLifeInMinutes minutes</span>
                                        </p>
                                    }
                                    @if (Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.Other)
                                    {
                                        <p>@Model.HealthTechnologySpecifications.EnergyRequirementsViewModel.OtherText</p>
                                    }
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">Facility requirements</th>
                                <td>
                                    @foreach (var item in Model.HealthTechnologySpecifications.FacilityRequirementsViewModel.GetResult())
                                    {
                                        <p>@item</p>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
