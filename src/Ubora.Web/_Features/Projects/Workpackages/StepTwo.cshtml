@using Ubora.Web._Features.Projects.Workpackages
@using Ubora.Web._Features._Shared
@model Ubora.Web._Features.Projects.Workpackages.StepTwoViewModel

@{
    ViewData["Title"] = "Dashboard";
}

@await Html.PartialAsync("_ProcessSteps", new ProcessStepViewModel
{
    ProjectId = Model.Id,
    StepOneStatus = StepStatus.Completed,
    StepTwoStatus = StepStatus.Active,
})

<section class="medium-width">
    <h1>@Model.Title</h1>

    <a class="button secondary-button" asp-controller="Tasks" asp-action="List" asp-route-projectId="@Model.Id">Tasks</a>
    <a class="button secondary-button" asp-controller="History" asp-action="History" asp-route-id="@Model.Id">History</a>
    <a class="button secondary-button" asp-controller="Members" asp-action="Members" asp-route-id="@Model.Id">Members</a>

    <form asp-controller="Workpackages" asp-action="StepTwo" method="post">

        <h3>Needs</h3>
        <label>
            <h4>Description of need</h4>
            <textarea id="exampleMDE" asp-for="DescriptionOfNeed" rows="8" placeholder="Explain the need for this project in greater detail..."></textarea>
            <span asp-validation-for="DescriptionOfNeed"></span>
        </label>

        <label>
            <h4>Description of existing solutions and analysis</h4>
            <textarea asp-for="DescriptionOfExistingSolutionsAndAnalysis" rows="8" placeholder="Please provide an overview of existing solutions with included analysis compared to your project..."></textarea>
            <span asp-validation-for="DescriptionOfExistingSolutionsAndAnalysis"></span>
        </label>

        <h3>Product specification</h3>
        <label>
            <h4>Functionality</h4>
            <textarea asp-for="ProductFunctionality" rows="8" placeholder="What are the main functions of your product?"></textarea>
            <span asp-validation-for="ProductFunctionality"></span>
        </label>

        <label>
            <h4>Performance</h4>
            <textarea asp-for="ProductPerformance" rows="8" placeholder="How do you measure your device performance?"></textarea>
            <span asp-validation-for="ProductPerformance"></span>
        </label>

        <label>
            <h4>Usability</h4>
            <textarea asp-for="ProductUsability" rows="8" placeholder="How and where will this product be used? Under which conditions?"></textarea>
            <span asp-validation-for="ProductUsability"></span>
        </label>

        <label>
            <h4>Safety</h4>
            <textarea asp-for="ProductSafety" rows="8" placeholder="How do you guarantee safety?"></textarea>
            <span asp-validation-for="ProductSafety"></span>
        </label>

        <h3>Involved people study</h3>
        <label>
            <h4>Patient population</h4>
            <textarea asp-for="PatientPopulationStudy" rows="8" placeholder="On which patients will this be used?"></textarea>
            <span asp-validation-for="PatientPopulationStudy"></span>
        </label>

        <label>
            <h4>User requirements</h4>
            <textarea asp-for="UserRequirementStudy" rows="8" placeholder="Who are going to be the end-users and how they will use it?"></textarea>
            <span asp-validation-for="UserRequirementStudy"></span>
        </label>

        <h3>Additional information</h3>
        <label>
            <textarea asp-for="AdditionalInformation" rows="8" placeholder="Additional information"></textarea>
            <span asp-validation-for="AdditionalInformation"></span>
        </label>


        <br>
        <button class="button primary-button full-width" type="submit">Save changes</button>
        <h3>Device classification</h3>
        <!-- TODO: This will open a modal, where the user can identify and/or classify his/her device -->
        <!-- <button class="button button-secondary">Classify your device</button>

        <br> -->
        <button class="button primary-button full-width" type="submit" disabled>Go to device classification</button>

    </form>

</section>

<link rel="stylesheet" href="~/lib/simplemde/dist/simplemde.min.css">
<script type="text/javascript" src="~/lib/simplemde/dist/simplemde.min.js"></script>

<script>
    var simplemde = new SimpleMDE({ element: document.getElementById("exampleMDE") });
</script>
