@model ResourceReadViewModel

@{
    ViewData["Title"] = ViewData["ResourcePageTitle"];
}

@section Left {
    <div class="nav-resources">
        @Html.Partial("_LeftResourcePagesNavMenuPartial.cshtml")
    </div>
    <div class="nav-resources-md">
        <button type="button" class="btn btn-icon d-flex align-items-center px-0" data-toggle="modal" data-target="#resourcesNavModal">
            <i class="material-icons mr-2">menu</i>
            <span>Resources menu</span>
        </button>
        <div class="modal fade modal-left-pane" id="resourcesNavModal" tabindex="-1" role="dialog" aria-labelledby="resourcesNavLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" id="resourcesNavLabel">
                        @Html.Partial("_LeftResourcePagesNavMenuPartial.cshtml")
                    </div>
                </div>
            </div>
        </div>
    </div>
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-action="@nameof(IndexController.Index)" asp-controller="@nameof(IndexController).RemoveSuffix()">Resources</a></li>
        <li class="breadcrumb-item active" aria-current="page">@ViewData["Title"]</li>
    </ol>
</nav>

@Html.Partial("_ResourcePageTabsPartial.cshtml")

<h1>@Model.Title</h1>

<div id="content-body" class="py-3">
    @(Html.Raw(Model.BodyHtml))
</div>

@section Right {
    <nav id="table-of-contents" class="nav-right-sticky d-none d-lg-block">
        <span class="color-grey">Table of contents</span>
    </nav>
}

@section Scripts {
    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.0/dist/bootstrap-toc.min.js"
            asp-fallback-test="Toc"
            asp-fallback-src="~/dist/libs/bootstrap-toc.min.js"></script>
    <script>
        Toc.init({
            $nav: $('#table-of-contents'),
            $scope: $('#content-body')
        })</script>
    <script>$('body').scrollspy({ target: '#table-of-contents' })</script>
}