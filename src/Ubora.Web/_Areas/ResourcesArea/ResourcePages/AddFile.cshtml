@model AddResourceFileViewModel

@{
    ViewData[nameof(PageTitle)] = "Upload new file(s)";
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">UBORA</a></li>
        <li class="breadcrumb-item"><a asp-action="@nameof(ResourcesMenusController.HighestPriorityResourcePage)" asp-controller="@nameof(ResourcesMenusController).RemoveSuffix()">Resources</a></li>
        <li class="breadcrumb-item"><a asp-action="@nameof(ResourcePagesController.Read)">@ViewData[nameof(ResourcePageTitle)]</a></li>
        <li class="breadcrumb-item"><a asp-action="@nameof(ResourcePagesController.Repository)">Files</a></li>
        <li class="breadcrumb-item active" aria-current="page">@ViewData[nameof(PageTitle)]</li>
    </ol>
</nav>

@Html.Partial("_ResourcePageTabsPartial.cshtml")

<h1>@ViewData[nameof(PageTitle)]</h1>

<form id="my-dropzone" class="w-100" asp-action="@nameof(ResourcePagesController.AddFile)" method="post" enctype="multipart/form-data">

    @*Drag and drop*@
    <div class="dropzone-previews dropzone">
        <div class="dz-message">
            <i class="material-icons">cloud_upload</i>
            <p>Drop files here or click to upload</p>
        </div>
    </div>

    <div asp-validation-summary="All" class="text-danger"></div>

    <div class="d-flex justify-content-center">
        <button id="btnSubmit" type="button" class="btn btn-primary">Upload new file(s)</button>
    </div>
</form>


@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/dropzone/5.4.0/min/dropzone.min.css"
          asp-fallback-href="~/dist/libs/dropzone.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/dropzone/5.4.0/dropzone.js"
            asp-fallback-src="~/dist/libs/dropzone.js">
    </script>
    <script src="~/dist/drag_and_drop_file_uploads.bundle.js"></script>
}